<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rewriter Pro - Transform Your Text Instantly - Free Tool</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Free text rewriter tool. Transform your content instantly. Unlimited rewrites, no sign-up required.">
    <meta name="keywords" content="ai rewriter, text rewriter, paragraph rewriter, paraphrasing tool, content rewriter, free rewriter, plagarisam remove">
    <meta name="author" content="AI Rewriter Pro">
    
    <!-- Open Graph for Social Media -->
    <meta property="og:title" content="Rewriter Pro - Free Text Rewriting Tool">
    <meta property="og:description" content="Transform your text instantly. No limits, no sign-up required.">
    <meta property="og:url" content="https://rewriter-pro.com">
    <meta property="og:type" content="website">
    
    <!-- Security Headers -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://pagead2.googlesyndication.com https://www.googletagmanager.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: https:; connect-src 'self';">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="Referrer-Policy" content="no-referrer-when-downgrade">
    <meta http-equiv="Permissions-Policy" content="geolocation=(), microphone=(), camera=()">
    
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet" crossorigin="anonymous" referrerpolicy="no-referrer">
    
    <!-- Google AdSense Code - Replace with your actual AdSense code -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9851680392273882"
     crossorigin="anonymous"></script>"
     crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #6366f1;
            --secondary: #8b5cf6;
            --accent: #50a2ea;
            --coral: #ff6b6b;
            --dark: #1a1a2e;
            --darker: #0f0f1e;
            --light: #f8f9fa;
            --gray: #6c757d;
            --success: #10b981;
            --warning: #f59e0b;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: var(--darker);
            color: #fff;
            overflow-x: hidden;
        }

        /* Security - Prevent iframe embedding attacks */
        html {
            -webkit-user-select: text;
            -moz-user-select: text;
            -ms-user-select: text;
            user-select: text;
        }

        iframe {
            pointer-events: none;
        }

        /* NAVIGATION */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            padding: 1.5rem 5%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(15, 15, 30, 0.95);
            backdrop-filter: blur(20px);
            z-index: 1000;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--coral), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .nav-links {
            display: flex;
            gap: 2.5rem;
            list-style: none;
            align-items: center;
        }

        .nav-links a {
            text-decoration: none;
            color: #fff;
            font-weight: 500;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            position: relative;
        }

        .nav-links a:hover {
            color: var(--coral);
        }

        .nav-links a.active::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 2px;
            background: var(--coral);
        }

        .free-badge {
            background: var(--success);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            color: white;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .mobile-menu {
            display: none;
            flex-direction: column;
            gap: 5px;
            cursor: pointer;
        }

        .mobile-menu span {
            width: 25px;
            height: 3px;
            background: white;
            border-radius: 3px;
            transition: 0.3s;
        }

        /* HERO SECTION */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: relative;
            overflow: hidden;
            background: linear-gradient(135deg, #1a1a2e 0%, #2d1b4e 50%, #1a1a2e 100%);
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 50%, rgba(255, 107, 107, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(139, 92, 246, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 40% 20%, rgba(236, 72, 153, 0.1) 0%, transparent 50%);
            animation: gradientShift 15s ease infinite;
        }

        @keyframes gradientShift {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.1); }
        }

        .hero-content {
            position: relative;
            z-index: 2;
            max-width: 900px;
            padding: 0 2rem;
            animation: fadeInUp 1s ease;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .hero h1 {
            font-size: clamp(2.5rem, 6vw, 4.5rem);
            font-weight: 900;
            margin-bottom: 1.5rem;
            line-height: 1.2;
            letter-spacing: -0.02em;
        }

        .gradient-text {
            background: linear-gradient(135deg, #fff 0%, var(--coral) 50%, var(--accent) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero p {
            font-size: 1.25rem;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 3rem;
            line-height: 1.8;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        .hero-buttons {
            display: flex;
            gap: 1.5rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn {
            padding: 1rem 2.5rem;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1.05rem;
            text-decoration: none;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--coral), var(--accent));
            color: white;
            box-shadow: 0 10px 30px rgba(255, 107, 107, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(255, 107, 107, 0.4);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.3);
        }

        /* REWRITER SECTION */
        .rewriter-section {
            min-height: 100vh;
            padding: 8rem 5% 5rem;
            background: linear-gradient(180deg, var(--darker) 0%, var(--dark) 100%);
        }

        .section-title {
            text-align: center;
            font-size: clamp(2rem, 4vw, 3rem);
            font-weight: 800;
            margin-bottom: 1rem;
        }

        .section-subtitle {
            text-align: center;
            font-size: 1.1rem;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 4rem;
        }

        .rewriter-container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 30px;
            padding: 3rem;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .mode-selector {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            justify-content: center;
        }

        .mode-chip {
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .mode-chip:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
        }

        .mode-chip.active {
            background: linear-gradient(135deg, var(--coral), var(--accent));
            border-color: transparent;
            box-shadow: 0 5px 20px rgba(255, 107, 107, 0.3);
        }

        .text-panels {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .text-panel {
            display: flex;
            flex-direction: column;
        }

        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .panel-title {
            font-size: 1.2rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .word-count {
            font-size: 0.9rem;
            color: var(--gray);
        }

        textarea {
            width: 100%;
            height: 350px;
            padding: 1.5rem;
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.1);
            color: white;
            font-family: 'Poppins', sans-serif;
            font-size: 1rem;
            resize: vertical;
            transition: all 0.3s ease;
        }

        textarea:focus {
            outline: none;
            border-color: var(--coral);
            background: rgba(255, 255, 255, 0.08);
            box-shadow: 0 0 20px rgba(255, 107, 107, 0.2);
        }

        textarea::placeholder {
            color: rgba(255, 255, 255, 0.4);
        }

        .controls {
            display: flex;
            gap: 1rem;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 2rem;
        }

        .strength-control {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 1.5rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
        }

        .strength-label {
            font-weight: 600;
            color: rgba(255, 255, 255, 0.9);
        }

        .strength-slider {
            width: 150px;
            height: 6px;
            border-radius: 5px;
            background: rgba(255, 255, 255, 0.1);
            outline: none;
            -webkit-appearance: none;
        }

        .strength-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--coral);
            cursor: pointer;
            box-shadow: 0 0 10px rgba(255, 107, 107, 0.5);
        }

        .strength-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--coral);
            cursor: pointer;
            border: none;
            box-shadow: 0 0 10px rgba(255, 107, 107, 0.5);
        }

        .strength-value {
            font-weight: 600;
            color: var(--coral);
            min-width: 70px;
        }

        .action-buttons {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .rewrite-btn {
            background: linear-gradient(135deg, var(--coral), var(--accent));
            padding: 1rem 3rem;
            font-size: 1.1rem;
            box-shadow: 0 10px 30px rgba(255, 107, 107, 0.3);
        }

        .rewrite-btn:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(255, 107, 107, 0.4);
        }

        .rewrite-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .icon-btn {
            padding: 1rem 2rem;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.1);
        }

        .icon-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.2);
        }

        .spinner {
            display: none;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* FEATURES SECTION */
        .features-section {
            padding: 8rem 5%;
            background: var(--dark);
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2.5rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 2.5rem;
            border-radius: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-10px);
            background: rgba(255, 255, 255, 0.08);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .feature-icon {
            font-size: 3rem;
            margin-bottom: 1.5rem;
        }

        .feature-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .feature-description {
            color: rgba(255, 255, 255, 0.7);
            line-height: 1.7;
        }

        /* TOAST NOTIFICATION */
        .toast {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: rgba(16, 185, 129, 0.95);
            color: white;
            padding: 1.2rem 2rem;
            border-radius: 15px;
            display: flex;
            align-items: center;
            gap: 1rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            transform: translateX(400px);
            transition: transform 0.3s ease;
            z-index: 10000;
            backdrop-filter: blur(10px);
        }

        .toast.show {
            transform: translateX(0);
        }

        .toast.error {
            background: rgba(239, 68, 68, 0.95);
        }

        .toast.warning {
            background: rgba(245, 158, 11, 0.95);
        }

        .toast-icon {
            font-size: 1.5rem;
            font-weight: bold;
        }

        /* FOOTER */
        footer {
            padding: 3rem 5%;
            background: var(--darker);
            text-align: center;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
        }

        .footer-links {
            display: flex;
            gap: 2rem;
            justify-content: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .footer-links a {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-links a:hover {
            color: var(--coral);
        }

        .copyright {
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.9rem;
        }

        /* RESPONSIVE */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .mobile-menu {
                display: flex;
            }

            .text-panels {
                grid-template-columns: 1fr;
            }

            .rewriter-container {
                padding: 2rem 1.5rem;
            }

            .controls {
                flex-direction: column;
            }

            .strength-control {
                width: 100%;
            }

            .action-buttons {
                width: 100%;
                flex-direction: column;
            }

            .action-buttons .btn {
                width: 100%;
                justify-content: center;
            }
        }

        /* Security Notice */
        .security-notice {
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid rgba(16, 185, 129, 0.3);
            padding: 1rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .security-notice-icon {
            font-size: 1.5rem;
        }

        .security-notice-text {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.8);
        }
    </style>
</head>
<body>
    <!-- NoScript Fallback -->
    <noscript>
        <div style="background: #ff6b6b; color: white; padding: 20px; text-align: center; position: fixed; top: 0; width: 100%; z-index: 99999;">
            ‚ö†Ô∏è This application requires JavaScript to be enabled for security features to work properly.
        </div>
    </noscript>

    <!-- NAVIGATION -->
    <nav>
        <div class="logo">Rewriter Pro</div>
        <ul class="nav-links">
            <li><a href="#home" class="active">Home</a></li>
            <li><a href="#rewriter">Rewriter</a></li>
            <li><a href="#features">Features</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="contact.html">Contact</a></li>
            <li><a href="#" class="free-badge">100% FREE</a></li>
        </ul>
        <div class="mobile-menu">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </nav>

    <!-- HERO SECTION -->
    <section id="home" class="hero">
        <div class="hero-content">
            <h1>Transform Your Text <span class="gradient-text">Instantly</span></h1>
            <p>The most powerful text rewriting tool. Get unique, high-quality content in seconds. No signup required. Completely free.</p>
            <div class="hero-buttons">
                <a href="#rewriter" class="btn btn-primary">‚ú® Start Rewriting</a>
                <a href="#features" class="btn btn-secondary">üìñ Learn More</a>
            </div>
        </div>
    </section>

    <!-- REWRITER SECTION -->
    <section id="rewriter" class="rewriter-section">
        <h2 class="section-title">AI Text Rewriter</h2>
        <p class="section-subtitle">Paste your text and watch it transform</p>

        <div class="rewriter-container">
            <!-- Security Notice -->
            <div class="security-notice">
                <span class="security-notice-icon">üîí</span>
                <span class="security-notice-text">
                    Your privacy is protected. All text processing happens locally in your browser. We don't store or transmit your data.
                </span>
            </div>

            <!-- Mode Selector -->
            <div class="mode-selector">
                <div class="mode-chip active" data-mode="standard">üìù Standard</div>
                <div class="mode-chip" data-mode="formal">üé© Formal</div>
                <div class="mode-chip" data-mode="creative">üé® Creative</div>
                <div class="mode-chip" data-mode="simple">üí° Simplified</div>
            </div>

            <!-- Text Panels -->
            <div class="text-panels">
                <!-- Input Panel -->
                <div class="text-panel">
                    <div class="panel-header">
                        <div class="panel-title">üìÑ Original Text</div>
                        <div class="word-count" id="inputCount">0 words</div>
                    </div>
                    <textarea 
                        id="inputText" 
                        placeholder="Paste or type your text here... (Max 10,000 characters)"
                        maxlength="10000"
                        spellcheck="false"
                    ></textarea>
                </div>

                <!-- Output Panel -->
                <div class="text-panel">
                    <div class="panel-header">
                        <div class="panel-title">‚ú® Rewritten Text</div>
                        <div class="word-count" id="outputCount">0 words</div>
                    </div>
                    <textarea 
                        id="outputText" 
                        placeholder="Your rewritten text will appear here..."
                        maxlength="10000"
                        readonly
                    ></textarea>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls">
                <!-- Strength Control -->
                <div class="strength-control">
                    <span class="strength-label">Strength:</span>
                    <input 
                        type="range" 
                        min="1" 
                        max="3" 
                        value="2" 
                        class="strength-slider" 
                        id="strengthSlider"
                    >
                    <span class="strength-value" id="strengthValue">Medium</span>
                </div>

                <!-- Action Buttons -->
                <div class="action-buttons">
                    <button class="btn rewrite-btn" id="rewriteBtn">
                        <span id="btnText">‚ú® REWRITE TEXT</span>
                        <span class="spinner" id="spinner"></span>
                    </button>
                    <button class="btn icon-btn" id="copyBtn">üìã Copy</button>
                    <button class="btn icon-btn" id="clearBtn">üóëÔ∏è Clear</button>
                </div>
            </div>
        </div>
    </section>

    <!-- FEATURES SECTION -->
    <section id="features" class="features-section">
        <h2 class="section-title">Why Choose Rewriter Pro?</h2>
        <p class="section-subtitle">Powerful features designed for content creators</p>

        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">‚ö°</div>
                <h3 class="feature-title">Lightning Fast</h3>
                <p class="feature-description">Get instant results with our advanced rewriting algorithm. No waiting, no delays.</p>
            </div>

            <div class="feature-card">
                <div class="feature-icon">üîí</div>
                <h3 class="feature-title">100% Secure</h3>
                <p class="feature-description">Your data stays private. All processing happens locally in your browser with enterprise-grade security.</p>
            </div>

            <div class="feature-card">
                <div class="feature-icon">üéØ</div>
                <h3 class="feature-title">Multiple Modes</h3>
                <p class="feature-description">Choose from Standard, Formal, Creative, or Simplified modes to match your needs.</p>
            </div>

            <div class="feature-card">
                <div class="feature-icon">üíé</div>
                <h3 class="feature-title">Premium Quality</h3>
                <p class="feature-description">Get human-like rewritten text that maintains context and meaning.</p>
            </div>

            <div class="feature-card">
                <div class="feature-icon">üÜì</div>
                <h3 class="feature-title">Completely Free</h3>
                <p class="feature-description">No hidden fees, no subscriptions, no limits. Use it as much as you want.</p>
            </div>

            <div class="feature-card">
                <div class="feature-icon">üì±</div>
                <h3 class="feature-title">Mobile Friendly</h3>
                <p class="feature-description">Works perfectly on all devices - desktop, tablet, and mobile.</p>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer>
        <div class="footer-content">
            <div class="footer-links">
                <a href="privacy-policy.html">Privacy Policy</a>
                <a href="terms-of-service.html">Terms of Service</a>
                <a href="contact.html">Contact</a>
                <a href="about.html">About</a>
            </div>
            <p class="copyright">¬© 2025 Rewriter Pro. All rights reserved. Built with security in mind.</p>
        </div>
    </footer>

    <!-- Toast Notification -->
    <div class="toast" id="toast">
        <span class="toast-icon" id="toastIcon">‚úì</span>
        <span class="toast-message" id="toastMessage">Success!</span>
    </div>

    <script>
        'use strict';

        // ============================================
        // SECURITY CONFIGURATIONS
        // ============================================

        // Rate Limiting Configuration
        const rateLimiter = {
            limit: 10, // 10 rewrites per minute
            windowMs: 60000, // 1 minute
            attempts: [],
            
            isAllowed() {
                const now = Date.now();
                this.attempts = this.attempts.filter(time => now - time < this.windowMs);
                
                if (this.attempts.length >= this.limit) {
                    return false;
                }
                
                this.attempts.push(now);
                return true;
            },

            getRemainingTime() {
                const now = Date.now();
                const oldestAttempt = this.attempts[0];
                return Math.ceil((this.windowMs - (now - oldestAttempt)) / 1000);
            }
        };

        // Input Sanitization Function
        function sanitizeHTML(text) {
            if (typeof text !== 'string') return '';
            
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // Validate input length
        function validateInputLength(text, maxLength = 10000) {
            return text.length <= maxLength;
        }

        // ============================================
        // SYNONYM DATABASE
        // ============================================

        const SYNONYM_DB = {
            'hello': ['hi', 'greetings', 'hey', 'howdy', 'welcome'],
            'good': ['excellent', 'great', 'fine', 'wonderful', 'superior', 'nice'],
            'bad': ['poor', 'terrible', 'awful', 'inferior', 'unpleasant', 'negative'],
            'big': ['large', 'huge', 'enormous', 'vast', 'massive', 'gigantic'],
            'small': ['tiny', 'little', 'mini', 'compact', 'petite', 'modest'],
            'happy': ['joyful', 'cheerful', 'delighted', 'pleased', 'content', 'glad'],
            'sad': ['unhappy', 'sorrowful', 'melancholy', 'dejected', 'gloomy', 'downcast'],
            'fast': ['quick', 'rapid', 'swift', 'speedy', 'hasty', 'brisk'],
            'slow': ['sluggish', 'gradual', 'leisurely', 'unhurried', 'deliberate', 'steady'],
            'new': ['fresh', 'recent', 'modern', 'novel', 'latest', 'current'],
            'old': ['ancient', 'aged', 'vintage', 'former', 'previous', 'archaic'],
            'important': ['significant', 'crucial', 'vital', 'essential', 'key', 'critical'],
            'beautiful': ['gorgeous', 'stunning', 'attractive', 'lovely', 'pretty', 'elegant'],
            'easy': ['simple', 'straightforward', 'effortless', 'uncomplicated', 'basic', 'smooth'],
            'hard': ['difficult', 'challenging', 'tough', 'complex', 'demanding', 'arduous'],
            'make': ['create', 'produce', 'build', 'construct', 'form', 'generate'],
            'think': ['consider', 'believe', 'ponder', 'reflect', 'contemplate', 'reason'],
            'know': ['understand', 'recognize', 'realize', 'comprehend', 'grasp', 'perceive'],
            'take': ['grab', 'seize', 'obtain', 'acquire', 'capture', 'secure'],
            'see': ['observe', 'notice', 'view', 'witness', 'spot', 'perceive'],
            'come': ['arrive', 'approach', 'reach', 'appear', 'emerge', 'advance'],
            'want': ['desire', 'wish', 'need', 'crave', 'seek', 'prefer'],
            'look': ['appear', 'seem', 'glance', 'gaze', 'stare', 'peek'],
            'use': ['utilize', 'employ', 'apply', 'operate', 'exercise', 'implement'],
            'find': ['discover', 'locate', 'detect', 'uncover', 'identify', 'spot'],
            'give': ['provide', 'offer', 'present', 'deliver', 'grant', 'supply'],
            'tell': ['inform', 'notify', 'advise', 'relate', 'communicate', 'reveal'],
            'work': ['function', 'operate', 'perform', 'labor', 'toil', 'execute'],
            'call': ['name', 'label', 'designate', 'summon', 'phone', 'contact'],
            'try': ['attempt', 'endeavor', 'strive', 'seek', 'test', 'experiment'],
            'ask': ['inquire', 'question', 'request', 'query', 'seek', 'demand'],
            'need': ['require', 'want', 'demand', 'necessitate', 'lack', 'desire'],
            'feel': ['sense', 'experience', 'perceive', 'detect', 'undergo', 'touch'],
            'become': ['turn', 'grow', 'develop', 'transform', 'evolve', 'change'],
            'leave': ['depart', 'exit', 'go', 'withdraw', 'abandon', 'vacate'],
            'put': ['place', 'set', 'position', 'lay', 'locate', 'install'],
            'mean': ['signify', 'indicate', 'represent', 'denote', 'imply', 'suggest'],
            'keep': ['retain', 'maintain', 'preserve', 'hold', 'save', 'store'],
            'let': ['allow', 'permit', 'enable', 'authorize', 'grant', 'approve'],
            'begin': ['start', 'commence', 'initiate', 'launch', 'open', 'embark'],
            'seem': ['appear', 'look', 'sound', 'feel', 'resemble', 'suggest'],
            'help': ['assist', 'aid', 'support', 'facilitate', 'encourage', 'contribute'],
            'talk': ['speak', 'communicate', 'converse', 'discuss', 'chat', 'express'],
            'turn': ['rotate', 'spin', 'twist', 'revolve', 'transform', 'convert'],
            'start': ['begin', 'commence', 'initiate', 'launch', 'open', 'kick off'],
            'show': ['display', 'demonstrate', 'reveal', 'exhibit', 'present', 'indicate'],
            'hear': ['listen', 'perceive', 'detect', 'overhear', 'catch', 'learn'],
            'play': ['perform', 'act', 'compete', 'participate', 'engage', 'execute'],
            'run': ['operate', 'manage', 'execute', 'sprint', 'jog', 'dash'],
            'move': ['shift', 'transfer', 'relocate', 'transport', 'proceed', 'advance'],
            'like': ['enjoy', 'appreciate', 'prefer', 'favor', 'admire', 'love'],
            'live': ['reside', 'dwell', 'inhabit', 'exist', 'survive', 'thrive'],
            'believe': ['think', 'consider', 'trust', 'suppose', 'assume', 'accept'],
            'hold': ['grasp', 'grip', 'clutch', 'carry', 'contain', 'maintain'],
            'bring': ['carry', 'transport', 'deliver', 'fetch', 'convey', 'take'],
            'happen': ['occur', 'take place', 'transpire', 'arise', 'emerge', 'develop'],
            'write': ['compose', 'draft', 'pen', 'author', 'record', 'inscribe'],
            'provide': ['supply', 'offer', 'furnish', 'give', 'deliver', 'present'],
            'sit': ['rest', 'settle', 'perch', 'squat', 'lounge', 'recline'],
            'stand': ['rise', 'remain', 'endure', 'tolerate', 'support', 'uphold'],
            'lose': ['misplace', 'forfeit', 'drop', 'miss', 'fail', 'surrender'],
            'pay': ['compensate', 'remunerate', 'reimburse', 'spend', 'invest', 'fund'],
            'meet': ['encounter', 'greet', 'face', 'join', 'connect', 'gather'],
            'include': ['contain', 'comprise', 'incorporate', 'encompass', 'involve', 'cover'],
            'continue': ['proceed', 'persist', 'maintain', 'resume', 'carry on', 'sustain'],
            'set': ['place', 'position', 'establish', 'arrange', 'fix', 'determine'],
            'learn': ['study', 'discover', 'master', 'acquire', 'grasp', 'understand'],
            'change': ['alter', 'modify', 'transform', 'adjust', 'convert', 'vary'],
            'lead': ['guide', 'direct', 'head', 'command', 'govern', 'manage'],
            'understand': ['comprehend', 'grasp', 'realize', 'recognize', 'perceive', 'know'],
            'watch': ['observe', 'view', 'monitor', 'examine', 'survey', 'inspect'],
            'follow': ['pursue', 'track', 'trail', 'accompany', 'succeed', 'obey'],
            'stop': ['halt', 'cease', 'end', 'terminate', 'discontinue', 'quit'],
            'create': ['make', 'produce', 'generate', 'form', 'establish', 'build'],
            'speak': ['talk', 'communicate', 'converse', 'express', 'articulate', 'voice'],
            'read': ['peruse', 'study', 'scan', 'review', 'examine', 'browse'],
            'allow': ['permit', 'enable', 'authorize', 'let', 'approve', 'sanction'],
            'add': ['append', 'attach', 'include', 'insert', 'incorporate', 'supplement'],
            'spend': ['expend', 'consume', 'invest', 'use', 'devote', 'allocate'],
            'grow': ['expand', 'increase', 'develop', 'flourish', 'thrive', 'prosper'],
            'open': ['unlock', 'unseal', 'expose', 'reveal', 'uncover', 'launch'],
            'walk': ['stroll', 'stride', 'march', 'pace', 'trek', 'wander'],
            'win': ['triumph', 'prevail', 'succeed', 'conquer', 'achieve', 'earn'],
            'offer': ['provide', 'present', 'propose', 'suggest', 'tender', 'extend'],
            'remember': ['recall', 'recollect', 'retain', 'recognize', 'reminisce', 'memorize'],
            'consider': ['contemplate', 'ponder', 'reflect', 'think', 'regard', 'view'],
            'appear': ['seem', 'look', 'emerge', 'arise', 'surface', 'materialize'],
            'buy': ['purchase', 'acquire', 'obtain', 'procure', 'invest', 'shop'],
            'wait': ['pause', 'delay', 'linger', 'remain', 'stay', 'anticipate'],
            'serve': ['provide', 'supply', 'offer', 'deliver', 'present', 'assist'],
            'die': ['perish', 'expire', 'decease', 'pass', 'succumb', 'cease'],
            'send': ['dispatch', 'transmit', 'deliver', 'forward', 'ship', 'convey'],
            'expect': ['anticipate', 'await', 'predict', 'foresee', 'suppose', 'assume'],
            'build': ['construct', 'create', 'erect', 'establish', 'develop', 'form'],
            'stay': ['remain', 'continue', 'linger', 'persist', 'reside', 'dwell'],
            'fall': ['drop', 'descend', 'plunge', 'decline', 'decrease', 'tumble'],
            'cut': ['slice', 'trim', 'sever', 'reduce', 'decrease', 'shorten'],
            'reach': ['attain', 'achieve', 'arrive', 'contact', 'touch', 'extend'],
            'kill': ['slay', 'eliminate', 'destroy', 'terminate', 'execute', 'assassinate'],
            'remain': ['stay', 'continue', 'persist', 'endure', 'linger', 'last'],
            'suggest': ['propose', 'recommend', 'advise', 'hint', 'indicate', 'imply'],
            'raise': ['lift', 'elevate', 'increase', 'boost', 'enhance', 'heighten'],
            'pass': ['proceed', 'move', 'cross', 'traverse', 'transfer', 'deliver'],
            'sell': ['market', 'trade', 'vend', 'merchandise', 'retail', 'distribute'],
            'require': ['need', 'demand', 'necessitate', 'call for', 'mandate', 'expect'],
            'report': ['announce', 'state', 'declare', 'disclose', 'reveal', 'communicate'],
            'decide': ['determine', 'resolve', 'conclude', 'choose', 'settle', 'opt'],
            'pull': ['drag', 'tug', 'draw', 'haul', 'yank', 'extract']
        };

        // ============================================
        // STATE MANAGEMENT
        // ============================================

        let currentMode = 'standard';
        let strengthLevel = 2;

        // ============================================
        // DOM ELEMENTS
        // ============================================

        const elements = {
            input: document.getElementById('inputText'),
            output: document.getElementById('outputText'),
            rewriteBtn: document.getElementById('rewriteBtn'),
            copyBtn: document.getElementById('copyBtn'),
            clearBtn: document.getElementById('clearBtn'),
            inputCount: document.getElementById('inputCount'),
            outputCount: document.getElementById('outputCount'),
            toast: document.getElementById('toast'),
            toastIcon: document.getElementById('toastIcon'),
            toastMessage: document.getElementById('toastMessage'),
            btnText: document.getElementById('btnText'),
            spinner: document.getElementById('spinner'),
            strengthSlider: document.getElementById('strengthSlider'),
            strengthValue: document.getElementById('strengthValue')
        };

        // ============================================
        // INITIALIZATION
        // ============================================

        setupEventListeners();
        initSecurityMonitoring();

        function setupEventListeners() {
            // Strength slider
            elements.strengthSlider.addEventListener('input', (e) => {
                strengthLevel = parseInt(e.target.value);
                const labels = ['Light', 'Medium', 'Heavy'];
                elements.strengthValue.textContent = labels[strengthLevel - 1];
            });

            // Main buttons
            elements.rewriteBtn.addEventListener('click', rewriteText);
            elements.copyBtn.addEventListener('click', copyToClipboard);
            elements.clearBtn.addEventListener('click', clearAll);
            
            // Input monitoring
            elements.input.addEventListener('input', updateWordCounts);

            // Mode selection
            document.querySelectorAll('.mode-chip').forEach(chip => {
                chip.addEventListener('click', () => {
                    document.querySelectorAll('.mode-chip').forEach(c => c.classList.remove('active'));
                    chip.classList.add('active');
                    currentMode = chip.dataset.mode;
                });
            });

            // Smooth scroll
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                });
            });
        }

        // ============================================
        // CORE REWRITING FUNCTIONS
        // ============================================

        function getSynonym(word) {
            const lowerWord = word.toLowerCase().replace(/[^\w-]/g, '');
            if (SYNONYM_DB[lowerWord] && SYNONYM_DB[lowerWord].length > 0) {
                const syns = SYNONYM_DB[lowerWord];
                return syns[Math.floor(Math.random() * syns.length)];
            }
            return word;
        }

        function matchCase(original, replacement) {
            if (!original || !replacement) return replacement;
            
            // All uppercase
            if (original === original.toUpperCase() && original.length > 1) {
                return replacement.toUpperCase();
            }
            
            // First letter uppercase
            if (original[0] === original[0].toUpperCase()) {
                return replacement.charAt(0).toUpperCase() + replacement.slice(1).toLowerCase();
            }
            
            // All lowercase
            return replacement.toLowerCase();
        }

        function advancedRewrite(text, strength) {
            const sentences = text.match(/[^.!?]+[.!?]+/g) || [text];
            const thresholds = { 1: 0.65, 2: 0.40, 3: 0.20 };
            
            return sentences.map(sentence => {
                const tokens = sentence.split(/(\s+|[,.!?;:()"'-])/);
                return tokens.map(token => {
                    // Preserve whitespace and punctuation
                    if (/^\s+$/.test(token) || /^[,.!?;:()"'-]+$/.test(token)) {
                        return token;
                    }
                    
                    const cleanWord = token.replace(/[^\w-]/g, '');
                    if (cleanWord.length <= 2) return token;
                    
                    // Replace based on strength threshold
                    if (Math.random() > thresholds[strength]) {
                        const synonym = getSynonym(cleanWord);
                        if (synonym !== cleanWord) {
                            return matchCase(token, synonym);
                        }
                    }
                    return token;
                }).join('');
            }).join(' ');
        }

        function rewriteText() {
            // Security: Check rate limit
            if (!rateLimiter.isAllowed()) {
                const remainingTime = rateLimiter.getRemainingTime();
                showToast(`Too many requests. Please wait ${remainingTime} seconds.`, 'error');
                return;
            }

            // Security: Sanitize input
            const rawText = elements.input.value.trim();
            const text = sanitizeHTML(rawText);
            
            // Validation: Empty check
            if (!text) {
                showToast('Please enter text to rewrite.', 'error');
                return;
            }

            // Security: Length validation
            if (!validateInputLength(text, 10000)) {
                showToast('Text too long. Maximum 10,000 characters.', 'error');
                return;
            }

            // Validation: Minimum word count
            if (text.split(/\s+/).length < 3) {
                showToast('Please enter at least 3 words.', 'error');
                return;
            }

            // UI: Show loading state
            elements.rewriteBtn.disabled = true;
            elements.btnText.textContent = 'REWRITING...';
            elements.spinner.style.display = 'inline-block';

            // Process rewrite with delay for UX
            setTimeout(() => {
                try {
                    const rewritten = advancedRewrite(text, strengthLevel);
                    elements.output.value = rewritten;
                    updateWordCounts();
                    
                    showToast('‚úì Text rewritten successfully!', 'success');
                } catch (error) {
                    console.error('Rewrite error:', error);
                    showToast('An error occurred. Please try again.', 'error');
                } finally {
                    // UI: Reset loading state
                    elements.rewriteBtn.disabled = false;
                    elements.btnText.textContent = '‚ú® REWRITE TEXT';
                    elements.spinner.style.display = 'none';
                }
            }, 1000);
        }

        // ============================================
        // UTILITY FUNCTIONS
        // ============================================

        function countWords(text) {
            return text.trim().split(/\s+/).filter(w => w.length > 0).length;
        }

        function updateWordCounts() {
            const inputWords = countWords(elements.input.value);
            const outputWords = countWords(elements.output.value);
            
            elements.inputCount.textContent = `${inputWords} word${inputWords !== 1 ? 's' : ''}`;
            elements.outputCount.textContent = `${outputWords} word${outputWords !== 1 ? 's' : ''}`;
        }

        async function copyToClipboard() {
            const rawText = elements.output.value.trim();
            
            if (!rawText) {
                showToast('Nothing to copy!', 'error');
                return;
            }

            // Security: Sanitize before copying
            const text = sanitizeHTML(rawText);

            // Security: Size limit
            if (text.length > 50000) {
                showToast('Text too large to copy.', 'error');
                return;
            }

            try {
                await navigator.clipboard.writeText(text);
                showToast('‚úì Copied to clipboard!', 'success');
            } catch (err) {
                console.error('Copy error:', err);
                showToast('Failed to copy. Please try selecting manually.', 'error');
            }
        }

        function clearAll() {
            elements.input.value = '';
            elements.output.value = '';
            updateWordCounts();
            showToast('‚úì All text cleared.', 'success');
        }

        function showToast(message, type = 'success') {
            // Security: Sanitize message
            const safeMessage = sanitizeHTML(message);
            
            elements.toastIcon.textContent = type === 'success' ? '‚úì' : type === 'warning' ? '‚ö†' : '‚úï';
            elements.toastMessage.textContent = safeMessage;
            elements.toast.className = `toast ${type}`;
            elements.toast.classList.add('show');
            
            setTimeout(() => elements.toast.classList.remove('show'), 3000);
        }

        // ============================================
        // SECURITY MONITORING
        // ============================================

        function initSecurityMonitoring() {
            // Monitor for errors
            window.addEventListener('error', function(e) {
                console.error('Application error:', e.error);
                // In production, send to logging service
            });

            // Monitor for unhandled promise rejections
            window.addEventListener('unhandledrejection', function(e) {
                console.error('Unhandled promise rejection:', e.reason);
                // In production, send to logging service
            });

            // Prevent console manipulation (basic protection)
            (function() {
                const original = console.log;
                console.log = function() {
                    original.apply(console, arguments);
                };
            })();

            // Monitor suspicious activity
            document.addEventListener('contextmenu', function(e) {
                // Log right-click for monitoring
                console.log('Context menu accessed');
            });

            // Detect developer tools (basic)
            const devtools = {
                isOpen: false,
                orientation: null
            };

            const threshold = 160;
            const check = () => {
                if (window.outerWidth - window.innerWidth > threshold || 
                    window.outerHeight - window.innerHeight > threshold) {
                    if (!devtools.isOpen) {
                        devtools.isOpen = true;
                        console.log('Developer tools detected');
                    }
                } else {
                    devtools.isOpen = false;
                }
            };

            setInterval(check, 1000);
        }

        // ============================================
        // INITIALIZE ON LOAD
        // ============================================

        updateWordCounts();

        // Log app initialization
        console.log('Rewriter Pro initialized with security features');
        console.log('Version: 2.0.0 (Secured)');
    </script>
</body>
</html>
